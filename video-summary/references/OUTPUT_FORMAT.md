# 输出结构规范

本文档定义 video summary skill 的统一输出格式，确保所有文件具有一致的结构，便于组织和检索。

## 文件名规范

```
{作者}_{中文标题}_【{类型}】{平台}-{日期}.md
```

**示例：**
- `李宏毅_深度学习入门_【教程】YouTube-2025-12-25.md`
- `科技区_科技一周要闻_【新闻】B站-2026-02-18.md`
- `42章经_2025年AI发展趋势_【分析】公众号-2026-02-18.md`

**规则：**
| 规则 | 说明 |
|------|------|
| 作者 | 从原文提取，无作者时省略 |
| 标题 | 原标题翻译为中文，保留专有名词（如 React、API） |
| 类型 | 从预定义类型选择（见下文） |
| 平台 | YouTube, B站, 公众号, Twitter, 知乎, 其他 |
| 日期 | **必须是发布日期（publish_date）**，格式 YYYY-MM-DD |

**⚠️ 日期规则（非常重要）**：
- 文件名中的日期 = **发布日期**（publish_date）
- 绝不能使用提取日期（extracted_date）
- 从 API 或页面元数据获取发布日期
- 如果获取不到发布日期，留空 `publish_date` 字段，文件名中也不应有日期

**特殊字符处理：**
- `/` `\` `:` `*` `?` `"` `<` `>` `|` → 替换为 `-`
- 空格 → 替换为 `-`
- 连续 `-` → 合并为一个

## 元数据字段 (YAML Frontmatter)

```yaml
---
title: 原标题（保留原文）
title_zh: 中文翻译标题
author: 作者名（原文提取，无则留空）
platform: 平台名
source: 来源网站/频道名
url: 原始链接
publish_date: 2025-12-25        # 发布日期（来源提供）
extracted_date: 2026-02-18      # 提取日期
type: tutorial                  # 内容类型（见预定义列表）
language: zh                    # 原文语言 (zh, en, ja, etc.)
duration: "12:34"               # 视频时长，文章留空
word_count: 2500                # 字数
quality_score: 78               # 信息质量分 (0-100)，由脚本计算
tags: ["AI/机器学习", "教程"]    # 最多3个，见预定义列表
---
```

**字段说明：**

| 字段 | 来源 | 说明 |
|------|------|------|
| title | 原文 | 原始标题，不做修改 |
| title_zh | AI翻译 | 标题中文翻译，专有名词保留 |
| author | 原文提取 | **只提取不创造**，与原文完全一致 |
| platform | 检测 | YouTube/B站/公众号/Twitter/知乎/其他 |
| source | 原文 | 来源网站或频道名 |
| url | 输入 | 用户提供的原始链接 |
| **publish_date** | **原文/API** | **⚠️ 发布日期，必须从 API 或页面获取** |
| extracted_date | 系统 | 提取时的日期（仅用于记录） |
| type | AI判断 | 从预定义列表选择（见下文） |
| language | 检测/AI | 原文主要语言代码 |
| duration | 原文 | 视频时长 MM:SS，文章留空 |
| word_count | 统计 | 原文字数 |
| quality_score | 脚本计算 | 调用 quality_scorer.py 计算 |
| tags | AI选择 | 最多3个，从预定义列表选择 |

**⚠️ 日期字段重要说明**：

| 字段 | 用途 | 文件名使用 |
|------|------|-----------|
| publish_date | 内容的原始发布时间 | ✅ **用于文件名** |
| extracted_date | 你提取内容的日期 | ❌ 不用于文件名 |

**严禁**：
- ❌ 用 extracted_date 代替 publish_date
- ❌ 在 publish_date 为空时用 extracted_date 填充
- ❌ 文件名中使用提取日期

## 内容结构

```markdown
---
# 元数据
---

# {标题}

## 📊 信息概览

| 属性 | 值 |
|------|-----|
| 类型 | {类型} |
| 平台 | {平台} |
| 作者 | {作者} |
| 发布日期 | {发布日期} |
| 信息质量 | {分数}/100 |

## 📝 入门级总结（小白友好）

{用最简单的语言解释，任何人都能看懂}

## 📝 标准级总结

{当前风格，专业但易懂，适合相关领域读者}

## 📝 深入级总结（专业版）

{保留术语，深度分析，适合专家读者}

## 📄 中文全文

{完整中文翻译/重写，不改原意，不遗漏信息}

## 📋 原始内容

{提取的原始字幕/文章内容，保留不动}
```

## 预定义内容类型 (type)

AI 必须从以下类型中**选择一个**：

| 类型值 | 说明 |
|--------|------|
| tutorial | 教程/教学 |
| news | 新闻/资讯 |
| analysis | 分析/深度报道 |
| interview | 采访/对话 |
| research | 研究/论文 |
| opinion | 观点/评论 |
| review | 产品/内容评测 |
| other | 其他 |

## 预定义标签 (tags)

AI 从以下列表中**最多选择3个**：

| 标签 | 说明 |
|------|------|
| AI/机器学习 | 人工智能相关 |
| 编程/开发 | 软件开发 |
| 产品/设计 | 产品经理、UI/UX |
| 商业/创业 | 商业模式、创业 |
| 金融/投资 | 投资理财 |
| 科技/数码 | 科技产品 |
| 生活/健康 | 生活方式 |
| 心理/成长 | 个人成长 |
| 时事/新闻 | 时事热点 |
| 其他 | 不属于以上 |

## 三档总结规范

| 档位 | 目标读者 | 写法要求 |
|------|----------|----------|
| 入门级 | 小白/外行 | 术语用通俗语言解释，多用类比，避免行话，不超过200字 |
| 标准级 | 从业者/相关领域 | 专业但易懂，保留关键术语，突出核心信息，300-500字 |
| 深入级 | 专家/深度用户 | 保留所有术语，分析背后原理，可引用数据，500-800字 |

## 信息质量分计算

使用 `scripts/quality_scorer.py` 计算，详见该文件。

## 作者信息提取规则

**严格规则：只提取，不创造**

| 规则 | 说明 |
|------|------|
| 来源 | 只从原文元数据中提取 |
| 无作者时 | 字段留空，不推测 |
| 一致性 | 同一来源的同一作者，使用相同写法 |
| 大小写 | 与原文完全一致，不做修改 |
| 多作者 | 用逗号分隔 |

**禁止行为：**
- ❌ AI 根据内容"推断"作者
- ❌ AI 补充未明确标注的作者
- ❌ AI 修改作者名格式
